<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<meta name="theme-color" content="#080808">
<title>FLIXORA â€” Watch Anything, Anywhere</title>
<meta name="description" content="Flixora â€” Premium streaming. Movies, series, K-Drama, Anime and more.">
<link rel="manifest" href="manifest.json">
<link rel="icon" href="icon-192.png">
<link rel="apple-touch-icon" href="icon-192.png">

<!-- Fonts: Playfair Display (cinematic) + DM Sans (clean body) -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700;900&family=DM+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">

<style>
/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   CSS VARIABLES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
:root {
  --bg:        #080808;
  --surface:   #0f0f0f;
  --surface2:  #161616;
  --surface3:  #1e1e1e;
  --gold:      #F59E0B;
  --gold-dim:  #78350F;
  --gold-glow: rgba(245,158,11,.18);
  --text:      #F0EDE8;
  --text-dim:  #6B6561;
  --text-mid:  #A09890;
  --radius:    10px;
  --radius-lg: 16px;
  --nav-h:     64px;
  --bottom-h:  62px;
  --font-head: 'Playfair Display', Georgia, serif;
  --font-body: 'DM Sans', system-ui, sans-serif;
  --transition: .25s cubic-bezier(.4,0,.2,1);
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   RESET & BASE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
html { scroll-behavior: smooth; }
body {
  background: var(--bg);
  color: var(--text);
  font-family: var(--font-body);
  font-size: 15px;
  line-height: 1.6;
  overflow-x: hidden;
  -webkit-font-smoothing: antialiased;
  min-height: 100vh;
}

/* Film grain overlay */
body::before {
  content: '';
  position: fixed;
  inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 512 512' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.03'/%3E%3C/svg%3E");
  pointer-events: none;
  z-index: 9998;
  opacity: .4;
}

img { display: block; max-width: 100%; }
button { font-family: var(--font-body); cursor: pointer; border: none; outline: none; }
a { text-decoration: none; color: inherit; }
select { font-family: var(--font-body); }

/* Scrollbar */
::-webkit-scrollbar { width: 4px; height: 4px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: #2a2a2a; border-radius: 4px; }
::-webkit-scrollbar-thumb:hover { background: var(--gold-dim); }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   NAVBAR
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#navbar {
  position: fixed;
  top: 0; left: 0; right: 0;
  height: var(--nav-h);
  display: flex;
  align-items: center;
  padding: 0 24px;
  gap: 32px;
  z-index: 1000;
  transition: background var(--transition), backdrop-filter var(--transition);
}
#navbar.solid {
  background: rgba(8,8,8,.92);
  backdrop-filter: blur(20px);
  border-bottom: 1px solid rgba(255,255,255,.04);
}

/* Logo */
.nav-logo {
  display: flex;
  align-items: center;
  gap: 8px;
  flex-shrink: 0;
}
.nav-logo .logo-mark {
  width: 32px; height: 32px;
  background: var(--gold);
  border-radius: 6px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: var(--font-head);
  font-weight: 900;
  font-size: 1rem;
  color: #000;
}
.nav-logo .logo-text {
  font-family: var(--font-head);
  font-size: 1.3rem;
  font-weight: 700;
  letter-spacing: 2px;
  color: var(--text);
}
.nav-logo .logo-text span { color: var(--gold); }

/* Nav links */
.nav-links {
  display: flex;
  gap: 4px;
  list-style: none;
  flex: 1;
}
.nav-links a {
  padding: 6px 14px;
  border-radius: 6px;
  font-size: .85rem;
  font-weight: 500;
  color: var(--text-mid);
  transition: color var(--transition), background var(--transition);
  white-space: nowrap;
  cursor: pointer;
}
.nav-links a:hover, .nav-links a.active {
  color: var(--text);
  background: rgba(255,255,255,.06);
}
.nav-links a.active { color: var(--gold); }

/* Nav right */
.nav-right {
  display: flex;
  align-items: center;
  gap: 10px;
  flex-shrink: 0;
}
.nav-search-btn {
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.08);
  color: var(--text-mid);
  padding: 7px 14px;
  border-radius: 8px;
  font-size: .82rem;
  display: flex;
  align-items: center;
  gap: 7px;
  transition: all var(--transition);
}
.nav-search-btn:hover {
  background: rgba(255,255,255,.1);
  color: var(--text);
}
.nav-icon-btn {
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.08);
  color: var(--text-mid);
  width: 36px; height: 36px;
  border-radius: 8px;
  font-size: 1rem;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all var(--transition);
}
.nav-icon-btn:hover {
  background: rgba(255,255,255,.1);
  color: var(--text);
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   HERO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#hero {
  position: relative;
  height: 92vh;
  min-height: 560px;
  max-height: 820px;
  overflow: hidden;
}

.hero-slide {
  position: absolute;
  inset: 0;
  opacity: 0;
  transition: opacity 1.2s ease;
}
.hero-slide.active { opacity: 1; }

.hero-bg-img {
  width: 100%; height: 100%;
  object-fit: cover;
  object-position: center top;
  filter: brightness(.45);
}

/* Cinematic vignette */
.hero-overlay {
  position: absolute;
  inset: 0;
  background: 
    linear-gradient(to right, rgba(8,8,8,.95) 0%, rgba(8,8,8,.5) 45%, transparent 75%),
    linear-gradient(to top, rgba(8,8,8,1) 0%, transparent 40%);
}

.hero-content {
  position: absolute;
  bottom: 120px;
  left: 0;
  padding: 0 60px;
  max-width: 620px;
  z-index: 2;
}

.hero-badge {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  background: var(--gold-glow);
  border: 1px solid rgba(245,158,11,.3);
  color: var(--gold);
  font-size: .72rem;
  font-weight: 700;
  letter-spacing: 1.5px;
  text-transform: uppercase;
  padding: 4px 12px;
  border-radius: 4px;
  margin-bottom: 16px;
}

.hero-title {
  font-family: var(--font-head);
  font-size: clamp(2.2rem, 5vw, 3.8rem);
  font-weight: 900;
  line-height: 1.05;
  letter-spacing: -.5px;
  margin-bottom: 14px;
  text-shadow: 0 2px 20px rgba(0,0,0,.5);
}

.hero-meta {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 14px;
  flex-wrap: wrap;
}
.hero-meta .chip {
  background: rgba(255,255,255,.1);
  backdrop-filter: blur(8px);
  padding: 3px 10px;
  border-radius: 4px;
  font-size: .75rem;
  font-weight: 600;
}
.hero-meta .chip.gold {
  background: var(--gold);
  color: #000;
}

.hero-description {
  font-size: .92rem;
  color: rgba(240,237,232,.75);
  line-height: 1.7;
  margin-bottom: 28px;
  max-width: 480px;
}

.hero-actions {
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
}

.btn-primary {
  background: var(--gold);
  color: #000;
  font-weight: 700;
  font-size: .9rem;
  padding: 13px 28px;
  border-radius: var(--radius);
  display: flex;
  align-items: center;
  gap: 8px;
  transition: all var(--transition);
  box-shadow: 0 4px 24px rgba(245,158,11,.35);
}
.btn-primary:hover {
  background: #FBBF24;
  transform: translateY(-1px);
  box-shadow: 0 8px 32px rgba(245,158,11,.45);
}

.btn-secondary {
  background: rgba(255,255,255,.1);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255,255,255,.15);
  color: var(--text);
  font-weight: 600;
  font-size: .9rem;
  padding: 13px 24px;
  border-radius: var(--radius);
  display: flex;
  align-items: center;
  gap: 8px;
  transition: all var(--transition);
}
.btn-secondary:hover {
  background: rgba(255,255,255,.16);
  transform: translateY(-1px);
}

/* Hero dots */
#heroDots {
  position: absolute;
  bottom: 80px;
  left: 60px;
  display: flex;
  gap: 8px;
  z-index: 3;
}
.hdot {
  width: 28px; height: 3px;
  background: rgba(255,255,255,.25);
  border-radius: 3px;
  cursor: pointer;
  transition: all var(--transition);
}
.hdot.active {
  background: var(--gold);
  width: 40px;
}

/* Hero progress bar */
#heroBar {
  position: absolute;
  bottom: 0; left: 0;
  height: 2px;
  background: var(--gold);
  z-index: 3;
  opacity: .5;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   GENRE FILTER BAR
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#genreBar {
  position: sticky;
  top: var(--nav-h);
  z-index: 100;
  background: rgba(8,8,8,.85);
  backdrop-filter: blur(20px);
  border-bottom: 1px solid rgba(255,255,255,.04);
  padding: 12px 24px;
  display: flex;
  gap: 8px;
  overflow-x: auto;
  scrollbar-width: none;
}
#genreBar::-webkit-scrollbar { display: none; }

.gchip {
  background: var(--surface3);
  border: 1px solid rgba(255,255,255,.07);
  color: var(--text-mid);
  font-size: .78rem;
  font-weight: 600;
  padding: 6px 16px;
  border-radius: 20px;
  white-space: nowrap;
  cursor: pointer;
  transition: all var(--transition);
  flex-shrink: 0;
}
.gchip:hover {
  background: rgba(245,158,11,.12);
  border-color: rgba(245,158,11,.3);
  color: var(--gold);
}
.gchip.active {
  background: var(--gold);
  border-color: var(--gold);
  color: #000;
  font-weight: 700;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   MAIN CONTENT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#mainContent {
  padding-bottom: calc(var(--bottom-h) + 20px);
}

.content-section {
  padding: 40px 0 8px;
}

.section-header {
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  padding: 0 24px 16px;
}
.section-title {
  font-family: var(--font-head);
  font-size: 1.35rem;
  font-weight: 700;
  color: var(--text);
  letter-spacing: -.2px;
}
.see-all-btn {
  background: none;
  color: var(--gold);
  font-size: .78rem;
  font-weight: 600;
  letter-spacing: .5px;
  text-transform: uppercase;
  transition: opacity var(--transition);
  display: flex;
  align-items: center;
  gap: 4px;
}
.see-all-btn:hover { opacity: .7; }

/* Row scroll wrapper */
.row-wrap {
  position: relative;
}
.row-scroll {
  display: flex;
  gap: 12px;
  padding: 4px 24px 16px;
  overflow-x: auto;
  scroll-snap-type: x mandatory;
  scrollbar-width: none;
}
.row-scroll::-webkit-scrollbar { display: none; }

/* Scroll arrows */
.row-arrow {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  background: rgba(8,8,8,.85);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255,255,255,.1);
  color: var(--text);
  width: 38px; height: 38px;
  border-radius: 50%;
  font-size: 1rem;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10;
  transition: all var(--transition);
  opacity: 0;
}
.row-wrap:hover .row-arrow { opacity: 1; }
.row-arrow:hover { background: var(--gold); color: #000; border-color: var(--gold); }
.row-arrow.left { left: 8px; }
.row-arrow.right { right: 8px; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   CONTENT CARDS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.content-card {
  flex-shrink: 0;
  width: 150px;
  scroll-snap-align: start;
  border-radius: var(--radius);
  overflow: hidden;
  background: var(--surface2);
  cursor: pointer;
  position: relative;
  transition: transform var(--transition), box-shadow var(--transition);
}
@media (min-width: 768px) { .content-card { width: 168px; } }

.content-card:hover {
  transform: translateY(-6px) scale(1.03);
  box-shadow: 0 20px 50px rgba(0,0,0,.7), 0 0 0 1px rgba(245,158,11,.2);
  z-index: 2;
}

.card-poster {
  aspect-ratio: 2/3;
  overflow: hidden;
  position: relative;
}
.card-poster img {
  width: 100%; height: 100%;
  object-fit: cover;
  transition: transform .4s ease;
}
.content-card:hover .card-poster img { transform: scale(1.05); }

.card-type-badge {
  position: absolute;
  top: 8px; right: 8px;
  background: rgba(8,8,8,.75);
  backdrop-filter: blur(6px);
  border: 1px solid rgba(255,255,255,.1);
  color: var(--text-mid);
  font-size: .58rem;
  font-weight: 700;
  letter-spacing: 1px;
  text-transform: uppercase;
  padding: 2px 6px;
  border-radius: 4px;
}
.card-type-badge.movie { color: var(--gold); border-color: rgba(245,158,11,.3); }

.card-score {
  position: absolute;
  top: 8px; left: 8px;
  background: rgba(8,8,8,.8);
  backdrop-filter: blur(6px);
  color: var(--gold);
  font-size: .62rem;
  font-weight: 700;
  padding: 2px 6px;
  border-radius: 4px;
}

.card-hover-overlay {
  position: absolute;
  inset: 0;
  background: linear-gradient(to top, rgba(8,8,8,.9) 0%, transparent 50%);
  opacity: 0;
  transition: opacity var(--transition);
  display: flex;
  align-items: flex-end;
  padding: 12px;
}
.content-card:hover .card-hover-overlay { opacity: 1; }
.card-play-btn {
  background: var(--gold);
  color: #000;
  border: none;
  width: 36px; height: 36px;
  border-radius: 50%;
  font-size: .9rem;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  box-shadow: 0 4px 16px rgba(245,158,11,.4);
}

.card-info {
  padding: 10px 10px 12px;
}
.card-title {
  font-size: .8rem;
  font-weight: 600;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  color: var(--text);
  margin-bottom: 4px;
}
.card-meta {
  display: flex;
  gap: 8px;
  font-size: .68rem;
  color: var(--text-dim);
}
.card-meta .score { color: var(--gold); }

/* Locked card */
.card-locked-overlay {
  position: absolute;
  inset: 0;
  background: rgba(8,8,8,.6);
  backdrop-filter: blur(12px);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 6px;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   RESULTS / SEARCH VIEW
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#searchResultsContainer {
  display: none;
  padding-bottom: calc(var(--bottom-h) + 20px);
}

#searchInfo {
  display: none;
  padding: 32px 24px 20px;
}
#searchTitle {
  font-family: var(--font-head);
  font-size: 1.6rem;
  font-weight: 700;
  margin-bottom: 4px;
}
#searchCount {
  font-size: .82rem;
  color: var(--text-dim);
}

#sf-results-wrap {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
  gap: 14px;
  padding: 8px 24px 24px;
}

/* Pagination */
#pagination {
  display: flex;
  justify-content: center;
  gap: 6px;
  padding: 20px 24px 40px;
  flex-wrap: wrap;
}
.page-btn {
  background: var(--surface3);
  border: 1px solid rgba(255,255,255,.07);
  color: var(--text-mid);
  padding: 8px 16px;
  border-radius: 8px;
  font-size: .82rem;
  font-weight: 600;
  cursor: pointer;
  transition: all var(--transition);
}
.page-btn:hover, .page-btn.active {
  background: var(--gold);
  border-color: var(--gold);
  color: #000;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   PLAYER MODAL
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#playerModal {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.92);
  backdrop-filter: blur(16px);
  z-index: 10000;
  display: flex;
  flex-direction: column;
  opacity: 0;
  pointer-events: none;
  transition: opacity .3s ease;
}
#playerModal.active {
  opacity: 1;
  pointer-events: all;
}

.player-topbar {
  display: flex;
  align-items: center;
  gap: 14px;
  padding: 14px 20px;
  flex-shrink: 0;
  border-bottom: 1px solid rgba(255,255,255,.06);
}
.player-close {
  background: rgba(255,255,255,.08);
  border: 1px solid rgba(255,255,255,.1);
  color: var(--text);
  width: 36px; height: 36px;
  border-radius: 8px;
  font-size: 1rem;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all var(--transition);
  flex-shrink: 0;
}
.player-close:hover { background: #e50914; border-color: #e50914; }
#playerTitle {
  font-family: var(--font-head);
  font-size: 1rem;
  font-weight: 600;
  flex: 1;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

#playerVideo {
  flex: 1;
  background: #000;
  position: relative;
  overflow: hidden;
}
#playerVideo iframe {
  width: 100%; height: 100%;
  border: none;
}

/* Server buttons */
.player-footer {
  flex-shrink: 0;
  padding: 12px 20px;
  border-top: 1px solid rgba(255,255,255,.06);
  background: var(--surface);
}
.server-label {
  font-size: .7rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 1px;
  color: var(--text-dim);
  margin-bottom: 8px;
}
#serverButtons {
  display: flex;
  gap: 7px;
  flex-wrap: wrap;
}
.server-btn {
  background: var(--surface3);
  border: 1px solid rgba(255,255,255,.08);
  color: var(--text-mid);
  font-size: .72rem;
  font-weight: 600;
  padding: 6px 13px;
  border-radius: 6px;
  cursor: pointer;
  transition: all var(--transition);
  display: flex;
  align-items: center;
  gap: 5px;
}
.server-btn:hover {
  background: rgba(245,158,11,.12);
  border-color: rgba(245,158,11,.3);
  color: var(--gold);
}
.server-btn.active {
  background: var(--gold);
  border-color: var(--gold);
  color: #000;
  font-weight: 700;
}
.sub-badge {
  background: #10b981;
  color: #fff;
  font-size: .55rem;
  font-weight: 700;
  padding: 1px 4px;
  border-radius: 3px;
  letter-spacing: .5px;
}

/* Player tip */
.player-tip {
  font-size: .7rem;
  color: var(--text-dim);
  margin-top: 8px;
  display: flex;
  align-items: center;
  gap: 5px;
}
.player-tip span { color: var(--gold); }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   INSTALL BANNER
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#installBanner {
  position: fixed;
  top: 0; left: 0; right: 0;
  background: linear-gradient(135deg, #1a1200, #0f0900);
  border-bottom: 1px solid rgba(245,158,11,.25);
  padding: 12px 20px;
  display: flex;
  align-items: center;
  gap: 12px;
  z-index: 9999;
  transform: translateY(-100%);
  transition: transform .4s ease;
}
#installBanner.show { transform: translateY(0); }
.install-icon { font-size: 1.4rem; }
.install-text { flex: 1; }
.install-text strong { color: var(--text); font-size: .85rem; display: block; }
.install-text small { color: var(--text-dim); font-size: .72rem; }
#installBtn {
  background: var(--gold);
  color: #000;
  font-weight: 700;
  font-size: .78rem;
  padding: 7px 16px;
  border-radius: 7px;
  white-space: nowrap;
  transition: all var(--transition);
}
#installBtn:hover { background: #FBBF24; }
#closeBanner {
  background: none;
  color: var(--text-dim);
  font-size: 1.1rem;
  padding: 4px;
  flex-shrink: 0;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   MOBILE SEARCH OVERLAY
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#msearch {
  position: fixed;
  inset: 0;
  background: rgba(8,8,8,.97);
  backdrop-filter: blur(20px);
  z-index: 5000;
  display: flex;
  flex-direction: column;
  padding: 24px;
  opacity: 0;
  pointer-events: none;
  transition: opacity .25s;
}
#msearch.on {
  opacity: 1;
  pointer-events: all;
}
.msearch-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 24px;
}
.msearch-input-wrap {
  flex: 1;
  display: flex;
  align-items: center;
  gap: 10px;
  background: var(--surface3);
  border: 1px solid rgba(255,255,255,.1);
  border-radius: var(--radius);
  padding: 12px 16px;
}
.msearch-input-wrap input {
  flex: 1;
  background: none;
  border: none;
  outline: none;
  color: var(--text);
  font-family: var(--font-body);
  font-size: 1rem;
}
.msearch-input-wrap input::placeholder { color: var(--text-dim); }
#msearch .close-btn {
  background: var(--surface3);
  border: 1px solid rgba(255,255,255,.08);
  color: var(--text-mid);
  width: 44px; height: 44px;
  border-radius: var(--radius);
  font-size: 1.1rem;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SEARCH BAR (desktop)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.desktop-search {
  display: flex;
  align-items: center;
  gap: 8px;
  background: var(--surface3);
  border: 1px solid rgba(255,255,255,.08);
  border-radius: 8px;
  padding: 7px 14px;
  transition: all var(--transition);
}
.desktop-search:focus-within {
  border-color: rgba(245,158,11,.4);
  background: var(--surface2);
}
.desktop-search input {
  background: none;
  border: none;
  outline: none;
  color: var(--text);
  font-family: var(--font-body);
  font-size: .85rem;
  width: 180px;
}
.desktop-search input::placeholder { color: var(--text-dim); }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   BOTTOM NAV (mobile)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#bottomNav {
  position: fixed;
  bottom: 0; left: 0; right: 0;
  height: var(--bottom-h);
  background: rgba(10,10,10,.95);
  backdrop-filter: blur(20px);
  border-top: 1px solid rgba(255,255,255,.06);
  display: flex;
  z-index: 1000;
}
@media (min-width: 900px) { #bottomNav { display: none; } }

.bn-item {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 3px;
  background: none;
  border: none;
  color: var(--text-dim);
  font-size: .6rem;
  font-weight: 600;
  letter-spacing: .3px;
  text-transform: uppercase;
  transition: color var(--transition);
  cursor: pointer;
}
.bn-item.active { color: var(--gold); }
.bn-item .bn-icon { font-size: 1.1rem; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   18+ VERIFY MODAL
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#verifyModal {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.9);
  backdrop-filter: blur(16px);
  z-index: 20000;
  display: none;
  align-items: center;
  justify-content: center;
  padding: 20px;
}
.verify-box {
  background: var(--surface);
  border: 1px solid rgba(255,255,255,.08);
  border-radius: var(--radius-lg);
  width: 100%;
  max-width: 380px;
  padding: 36px;
  text-align: center;
}
.verify-icon { font-size: 3rem; margin-bottom: 16px; }
.verify-title {
  font-family: var(--font-head);
  font-size: 1.4rem;
  font-weight: 700;
  margin-bottom: 8px;
}
.verify-desc { font-size: .85rem; color: var(--text-dim); margin-bottom: 28px; line-height: 1.6; }
.verify-actions { display: flex; flex-direction: column; gap: 10px; }
.verify-btn {
  padding: 13px;
  border-radius: var(--radius);
  font-weight: 600;
  font-size: .9rem;
  cursor: pointer;
  transition: all var(--transition);
}
.verify-btn.primary { background: var(--gold); color: #000; border: none; }
.verify-btn.primary:hover { background: #FBBF24; }
.verify-btn.ghost {
  background: none;
  border: 1px solid rgba(255,255,255,.12);
  color: var(--text-mid);
}
.verify-btn.ghost:hover { background: rgba(255,255,255,.06); }
.verify-btn.cancel { background: none; border: none; color: var(--text-dim); font-size: .82rem; }

/* PIN inputs */
.pin-row { display: flex; gap: 10px; justify-content: center; margin: 20px 0; }
.pin-digit {
  width: 52px; height: 58px;
  background: var(--surface3);
  border: 2px solid rgba(255,255,255,.1);
  border-radius: var(--radius);
  color: var(--text);
  font-size: 1.4rem;
  font-weight: 700;
  text-align: center;
  outline: none;
  transition: border-color var(--transition);
}
.pin-digit:focus { border-color: var(--gold); }
#pinError { color: #e50914; font-size: .8rem; margin-top: -10px; min-height: 18px; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   WATCH TOGETHER
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#watchTogetherMenu {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.88);
  backdrop-filter: blur(16px);
  z-index: 15000;
  display: none;
  align-items: center;
  justify-content: center;
}
#watchTogetherMenu.open { display: flex; }
.together-box {
  background: var(--surface);
  border: 1px solid rgba(255,255,255,.08);
  border-radius: var(--radius-lg);
  width: 100%;
  max-width: 400px;
  padding: 32px;
  text-align: center;
}
.together-title {
  font-family: var(--font-head);
  font-size: 1.4rem;
  font-weight: 700;
  margin-bottom: 8px;
}
.together-sub { color: var(--text-dim); font-size: .85rem; margin-bottom: 28px; }
.together-options { display: flex; flex-direction: column; gap: 12px; }
.together-opt {
  background: var(--surface3);
  border: 1px solid rgba(255,255,255,.07);
  border-radius: var(--radius);
  padding: 16px 20px;
  display: flex;
  align-items: center;
  gap: 14px;
  cursor: pointer;
  transition: all var(--transition);
  text-align: left;
}
.together-opt:hover { border-color: rgba(245,158,11,.3); background: rgba(245,158,11,.06); }
.together-opt .opt-icon { font-size: 1.8rem; }
.together-opt strong { color: var(--text); font-size: .9rem; display: block; margin-bottom: 2px; }
.together-opt small { color: var(--text-dim); font-size: .75rem; }
.together-close {
  background: none; border: none; color: var(--text-dim);
  margin-top: 16px; font-size: .82rem; cursor: pointer;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   JOIN ROOM MODAL
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#joinRoomModal, #roomCreatedModal {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.88);
  backdrop-filter: blur(16px);
  z-index: 16000;
  display: none;
  align-items: center;
  justify-content: center;
  padding: 20px;
}
#joinRoomModal.open, #roomCreatedModal.open { display: flex; }
.room-box {
  background: var(--surface);
  border: 1px solid rgba(255,255,255,.08);
  border-radius: var(--radius-lg);
  width: 100%;
  max-width: 380px;
  padding: 32px;
}
.room-title {
  font-family: var(--font-head);
  font-size: 1.2rem;
  font-weight: 700;
  margin-bottom: 20px;
}
.room-input {
  width: 100%;
  background: var(--surface3);
  border: 1px solid rgba(255,255,255,.1);
  border-radius: var(--radius);
  color: var(--text);
  font-family: var(--font-body);
  font-size: .95rem;
  padding: 12px 16px;
  outline: none;
  margin-bottom: 14px;
  transition: border-color var(--transition);
}
.room-input:focus { border-color: rgba(245,158,11,.4); }
.room-code {
  background: var(--surface3);
  border-radius: var(--radius);
  padding: 16px;
  text-align: center;
  font-family: monospace;
  font-size: 2rem;
  font-weight: 700;
  letter-spacing: 8px;
  color: var(--gold);
  margin-bottom: 16px;
}
.room-actions { display: flex; gap: 10px; flex-wrap: wrap; }
.room-btn {
  flex: 1;
  padding: 11px;
  border-radius: var(--radius);
  font-weight: 600;
  font-size: .85rem;
  cursor: pointer;
  transition: all var(--transition);
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
}
.room-btn.primary { background: var(--gold); color: #000; border: none; }
.room-btn.primary:hover { background: #FBBF24; }
.room-btn.ghost { background: var(--surface3); border: 1px solid rgba(255,255,255,.08); color: var(--text-mid); }
.room-btn.ghost:hover { background: var(--surface2); }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   CHAT PANEL
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#chatPanel {
  position: fixed;
  right: 0; top: 0; bottom: 0;
  width: 300px;
  background: var(--surface);
  border-left: 1px solid rgba(255,255,255,.06);
  z-index: 10001;
  display: flex;
  flex-direction: column;
  transform: translateX(100%);
  transition: transform var(--transition);
}
#chatPanel.show { transform: translateX(0); }
.chat-header {
  padding: 16px;
  border-bottom: 1px solid rgba(255,255,255,.06);
  display: flex;
  align-items: center;
  justify-content: space-between;
}
.chat-header strong { font-size: .9rem; }
.chat-messages {
  flex: 1;
  overflow-y: auto;
  padding: 16px;
  display: flex;
  flex-direction: column;
  gap: 8px;
}
.chat-footer {
  padding: 12px;
  border-top: 1px solid rgba(255,255,255,.06);
  display: flex;
  gap: 8px;
}
.chat-input {
  flex: 1;
  background: var(--surface3);
  border: 1px solid rgba(255,255,255,.08);
  border-radius: 8px;
  color: var(--text);
  font-family: var(--font-body);
  font-size: .85rem;
  padding: 9px 13px;
  outline: none;
}
.chat-send {
  background: var(--gold);
  color: #000;
  border: none;
  width: 38px; height: 38px;
  border-radius: 8px;
  font-size: 1rem;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   KO-FI SUPPORT BUTTON
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#kofiBtn {
  position: fixed;
  bottom: calc(var(--bottom-h) + 14px);
  right: 14px;
  background: linear-gradient(135deg, #FF5E5B, #FF8C42);
  color: #fff;
  border: none;
  border-radius: 24px;
  padding: 10px 18px;
  font-size: .78rem;
  font-weight: 700;
  display: flex;
  align-items: center;
  gap: 7px;
  cursor: pointer;
  box-shadow: 0 8px 24px rgba(255,94,91,.35);
  transition: all var(--transition);
  z-index: 999;
  letter-spacing: .3px;
}
#kofiBtn:hover {
  transform: translateY(-2px);
  box-shadow: 0 12px 32px rgba(255,94,91,.5);
}
@media (min-width: 900px) {
  #kofiBtn { bottom: 20px; }
}

/* Ko-fi modal */
#kofiModal {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.88);
  backdrop-filter: blur(16px);
  z-index: 20000;
  display: none;
  align-items: flex-end;
  justify-content: center;
  padding: 20px;
}
#kofiModal.open { display: flex; }
@media (min-width: 500px) {
  #kofiModal { align-items: center; }
}
.kofi-box {
  background: var(--surface);
  border: 1px solid rgba(255,255,255,.08);
  border-radius: var(--radius-lg);
  width: 100%;
  max-width: 420px;
  overflow: hidden;
}
.kofi-header {
  background: linear-gradient(135deg, #FF5E5B, #FF8C42);
  padding: 28px 28px 24px;
  text-align: center;
}
.kofi-header .kofi-emoji { font-size: 2.5rem; margin-bottom: 8px; }
.kofi-header h3 {
  font-family: var(--font-head);
  font-size: 1.4rem;
  font-weight: 700;
  color: #fff;
  margin-bottom: 4px;
}
.kofi-header p { color: rgba(255,255,255,.8); font-size: .85rem; }
.kofi-body { padding: 24px 28px; }
.kofi-body p {
  color: var(--text-mid);
  font-size: .88rem;
  line-height: 1.7;
  margin-bottom: 20px;
  text-align: center;
}
.kofi-amounts {
  display: flex;
  gap: 8px;
  justify-content: center;
  margin-bottom: 20px;
  flex-wrap: wrap;
}
.kofi-amount {
  background: var(--surface3);
  border: 2px solid rgba(255,255,255,.08);
  color: var(--text);
  font-weight: 700;
  font-size: .9rem;
  padding: 10px 18px;
  border-radius: 10px;
  cursor: pointer;
  transition: all var(--transition);
}
.kofi-amount:hover, .kofi-amount.selected {
  border-color: #FF5E5B;
  background: rgba(255,94,91,.12);
  color: #FF8C42;
}
.kofi-support-btn {
  width: 100%;
  background: linear-gradient(135deg, #FF5E5B, #FF8C42);
  color: #fff;
  border: none;
  border-radius: var(--radius);
  padding: 14px;
  font-size: .95rem;
  font-weight: 700;
  cursor: pointer;
  margin-bottom: 10px;
  transition: all var(--transition);
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
}
.kofi-support-btn:hover { opacity: .9; transform: translateY(-1px); }
.kofi-cancel {
  width: 100%;
  background: none;
  border: none;
  color: var(--text-dim);
  font-size: .82rem;
  padding: 8px;
  cursor: pointer;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SKELETON LOADER
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
@keyframes shimmer {
  0% { background-position: -400px 0; }
  100% { background-position: 400px 0; }
}
.skeleton {
  background: linear-gradient(90deg, var(--surface2) 25%, var(--surface3) 50%, var(--surface2) 75%);
  background-size: 400px 100%;
  animation: shimmer 1.4s infinite linear;
  border-radius: 6px;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ANIMATIONS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
@keyframes fadeUp {
  from { opacity: 0; transform: translateY(16px); }
  to { opacity: 1; transform: none; }
}
@keyframes spin { to { transform: rotate(360deg); } }

.fade-up { animation: fadeUp .5s ease forwards; }

/* Loading spinner */
.spinner {
  width: 36px; height: 36px;
  border: 3px solid rgba(255,255,255,.08);
  border-top-color: var(--gold);
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   RESPONSIVE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
@media (max-width: 899px) {
  .nav-links { display: none; }
  .desktop-search { display: none; }
  .hero-content { padding: 0 20px; max-width: 100%; }
  .hero-content .hero-description { display: none; }
  #heroDots { left: 20px; }
  .section-header { padding: 0 16px 12px; }
  .row-scroll { padding: 4px 16px 16px; gap: 10px; }
  .row-arrow { display: none; }
  #sf-results-wrap { padding: 8px 16px 24px; grid-template-columns: repeat(auto-fill, minmax(135px, 1fr)); gap: 10px; }
  #searchInfo { padding: 24px 16px 16px; }
  #kofiBtn { bottom: calc(var(--bottom-h) + 10px); right: 10px; }
}

@media (min-width: 900px) {
  #mainContent { padding-bottom: 40px; }
  #searchResultsContainer { padding-bottom: 40px; }
}

/* Section for mature content */
#section-mature { display: none; }
</style>
</head>

<body>

<!-- â•â•â• INSTALL BANNER â•â•â• -->
<div id="installBanner">
  <div class="install-icon">ğŸ“±</div>
  <div class="install-text">
    <strong>Install Flixora</strong>
    <small>Add to home screen for the best experience</small>
  </div>
  <button id="installBtn">Install</button>
  <button id="closeBanner">âœ•</button>
</div>

<!-- â•â•â• NAVBAR â•â•â• -->
<nav id="navbar">
  <div class="nav-logo" onclick="goHome()" style="cursor:pointer">
    <div class="logo-mark">F</div>
    <div class="logo-text">FLIX<span>ORA</span></div>
  </div>

  <ul class="nav-links">
    <li><a onclick="goHome()" data-cat="home">Home</a></li>
    <li><a onclick="loadCategory('movies')" data-cat="movies">Movies</a></li>
    <li><a onclick="loadCategory('tv')" data-cat="tv">TV Series</a></li>
    <li><a onclick="loadCategory('kdrama')" data-cat="kdrama">K-Drama</a></li>
    <li><a onclick="loadCategory('anime')" data-cat="anime">Anime</a></li>
    <li><a onclick="App.openMature()" data-cat="mature">ğŸ” 18+</a></li>
  </ul>

  <div class="nav-right">
    <div class="desktop-search">
      <span style="color:var(--text-dim);font-size:.9rem">ğŸ”</span>
      <input id="searchInput" placeholder="Search movies, shows..." onkeydown="if(event.key==='Enter')doSearch(1)">
    </div>
    <button class="nav-icon-btn" onclick="openMSearch()" title="Search">ğŸ”</button>
    <button class="nav-icon-btn" onclick="showWatchTogetherMenu()" title="Watch Together">ğŸ‘¥</button>
    <button class="nav-icon-btn" onclick="openKofi()" title="Support">â˜•</button>
  </div>
</nav>

<!-- â•â•â• HERO â•â•â• -->
<section id="hero">
  <div id="heroBar"></div>
  <div id="heroDots"></div>
</section>

<!-- â•â•â• GENRE FILTER BAR â•â•â• -->
<div id="genreBar">
  <button class="gchip active" data-g="all">âœ¦ All</button>
  <button class="gchip" data-g="28">Action</button>
  <button class="gchip" data-g="18">Drama</button>
  <button class="gchip" data-g="35">Comedy</button>
  <button class="gchip" data-g="53">Thriller</button>
  <button class="gchip" data-g="10749">Romance</button>
  <button class="gchip" data-g="878">Sci-Fi</button>
  <button class="gchip" data-g="27">Horror</button>
  <button class="gchip" data-g="14">Fantasy</button>
  <button class="gchip" data-g="16">Animation</button>
  <button class="gchip" data-g="99">Documentary</button>
  <button class="gchip" data-g="80">Crime</button>
  <button class="gchip" data-g="10402">Music</button>
  <button class="gchip" data-g="9648">Mystery</button>
</div>

<!-- â•â•â• MAIN CONTENT â•â•â• -->
<main id="mainContent">

  <!-- Trending -->
  <section class="content-section">
    <div class="section-header">
      <h2 class="section-title">ğŸ”¥ Trending Now</h2>
      <button class="see-all-btn" onclick="seeAll('trending')">See All â†’</button>
    </div>
    <div class="row-wrap">
      <button class="row-arrow left" onclick="scrollRow('trendingContent',-1)">â€¹</button>
      <div class="row-scroll" id="trendingContent"></div>
      <button class="row-arrow right" onclick="scrollRow('trendingContent',1)">â€º</button>
    </div>
  </section>

  <!-- Movies -->
  <section class="content-section">
    <div class="section-header">
      <h2 class="section-title">ğŸ¬ Popular Movies</h2>
      <button class="see-all-btn" onclick="seeAll('movies')">See All â†’</button>
    </div>
    <div class="row-wrap">
      <button class="row-arrow left" onclick="scrollRow('moviesContent',-1)">â€¹</button>
      <div class="row-scroll" id="moviesContent"></div>
      <button class="row-arrow right" onclick="scrollRow('moviesContent',1)">â€º</button>
    </div>
  </section>

  <!-- TV Series -->
  <section class="content-section">
    <div class="section-header">
      <h2 class="section-title">ğŸ“º TV Series</h2>
      <button class="see-all-btn" onclick="seeAll('tv')">See All â†’</button>
    </div>
    <div class="row-wrap">
      <button class="row-arrow left" onclick="scrollRow('tvContent',-1)">â€¹</button>
      <div class="row-scroll" id="tvContent"></div>
      <button class="row-arrow right" onclick="scrollRow('tvContent',1)">â€º</button>
    </div>
  </section>

  <!-- K-Drama -->
  <section class="content-section">
    <div class="section-header">
      <h2 class="section-title">ğŸ‡°ğŸ‡· K-Drama</h2>
      <button class="see-all-btn" onclick="seeAll('kdrama')">See All â†’</button>
    </div>
    <div class="row-wrap">
      <button class="row-arrow left" onclick="scrollRow('kdramaContent',-1)">â€¹</button>
      <div class="row-scroll" id="kdramaContent"></div>
      <button class="row-arrow right" onclick="scrollRow('kdramaContent',1)">â€º</button>
    </div>
  </section>

  <!-- Anime -->
  <section class="content-section">
    <div class="section-header">
      <h2 class="section-title">ğŸŒ Anime</h2>
      <button class="see-all-btn" onclick="seeAll('anime')">See All â†’</button>
    </div>
    <div class="row-wrap">
      <button class="row-arrow left" onclick="scrollRow('animeContent',-1)">â€¹</button>
      <div class="row-scroll" id="animeContent"></div>
      <button class="row-arrow right" onclick="scrollRow('animeContent',1)">â€º</button>
    </div>
  </section>

  <!-- 18+ -->
  <section class="content-section" id="section-mature">
    <div class="section-header">
      <h2 class="section-title">ğŸ” 18+ Mature</h2>
    </div>
    <div class="row-wrap">
      <div class="row-scroll" id="matureContent"></div>
    </div>
  </section>

</main>

<!-- â•â•â• SEARCH RESULTS â•â•â• -->
<div id="searchResultsContainer">
  <div id="searchInfo">
    <div id="searchTitle"></div>
    <div id="searchCount"></div>
  </div>
  <div id="sf-results-wrap"></div>
  <div id="pagination"></div>
</div>

<!-- â•â•â• PLAYER MODAL â•â•â• -->
<div id="playerModal">
  <div class="player-topbar">
    <button class="player-close" onclick="closePlayer()">âœ•</button>
    <div id="playerTitle">Loadingâ€¦</div>
    <button class="nav-icon-btn" onclick="toggleChatPanel()" style="margin-left:auto" title="Watch Together Chat">ğŸ’¬ <span id="chatCount" style="font-size:.7rem">0</span></button>
  </div>
  <div id="playerVideo">
    <div style="display:flex;align-items:center;justify-content:center;height:100%;flex-direction:column;gap:16px;color:var(--text-dim)">
      <div class="spinner"></div>
      <span style="font-size:.85rem">Loading playerâ€¦</span>
    </div>
  </div>
  <div class="player-footer">
    <div class="server-label">Select Server</div>
    <div id="serverButtons"></div>
    <div class="player-tip">ğŸ’¡ <span>Tip:</span> Most servers include English subtitles â€” look for CC button</div>
  </div>
</div>

<!-- Chat Panel -->
<div id="chatPanel">
  <div class="chat-header">
    <strong>ğŸ’¬ Watch Together</strong>
    <span id="watchCount" style="font-size:.75rem;color:var(--text-dim)">0 watching</span>
  </div>
  <div class="chat-messages" id="chatMessages"></div>
  <div class="chat-footer">
    <input class="chat-input" id="chatInput" placeholder="Say somethingâ€¦" maxlength="200">
    <button class="chat-send" id="chatSendBtn">ğŸ“¨</button>
  </div>
</div>

<!-- â•â•â• MOBILE SEARCH â•â•â• -->
<div id="msearch">
  <div class="msearch-header">
    <div class="msearch-input-wrap">
      <span style="color:var(--text-dim)">ğŸ”</span>
      <input id="msearchInp" placeholder="Search movies, shows, animeâ€¦" autocomplete="off">
    </div>
    <button class="close-btn" onclick="closeMSearch()">âœ•</button>
  </div>
  <div id="sf-results-wrap-mobile"></div>
</div>

<!-- â•â•â• 18+ VERIFY â•â•â• -->
<div id="verifyModal">
  <div class="verify-box" id="verifyStep1">
    <div class="verify-icon">ğŸ”</div>
    <div class="verify-title">Restricted Content</div>
    <div class="verify-desc">This section contains mature content intended for adults only. You must confirm you are 18 years or older to continue.</div>
    <div class="verify-actions">
      <button class="verify-btn primary" onclick="verifyAge()">âœ” I confirm I am 18+</button>
      <button class="verify-btn ghost" onclick="showPinStep()">Enter Parental PIN instead</button>
      <button class="verify-btn cancel" onclick="closeVerify()">Cancel</button>
    </div>
  </div>
  <div class="verify-box" id="verifyStep2" style="display:none">
    <div class="verify-icon">ğŸ”</div>
    <div class="verify-title">Enter PIN</div>
    <div class="verify-desc">Enter your 4-digit parental PIN</div>
    <div class="pin-row">
      <input class="pin-digit" maxlength="1" inputmode="numeric" type="password">
      <input class="pin-digit" maxlength="1" inputmode="numeric" type="password">
      <input class="pin-digit" maxlength="1" inputmode="numeric" type="password">
      <input class="pin-digit" maxlength="1" inputmode="numeric" type="password">
    </div>
    <div id="pinError"></div>
    <div class="verify-actions" style="margin-top:16px">
      <button class="verify-btn primary" onclick="verifyPin()">Unlock</button>
      <button class="verify-btn ghost" onclick="showAgeStep()">â† Back</button>
      <button class="verify-btn cancel" onclick="closeVerify()">Cancel</button>
    </div>
  </div>
</div>

<!-- â•â•â• WATCH TOGETHER â•â•â• -->
<div id="watchTogetherMenu">
  <div class="together-box">
    <div style="font-size:2rem;margin-bottom:12px">ğŸ‘¥</div>
    <div class="together-title">Watch Together</div>
    <div class="together-sub">Watch with friends in real-time</div>
    <div class="together-options">
      <div class="together-opt" onclick="createRoom()">
        <div class="opt-icon">ğŸ¬</div>
        <div>
          <strong>Create Room</strong>
          <small>Start watching with friends</small>
        </div>
      </div>
      <div class="together-opt" onclick="showJoinRoomDialog()">
        <div class="opt-icon">ğŸ”—</div>
        <div>
          <strong>Join Room</strong>
          <small>Enter room code to join</small>
        </div>
      </div>
    </div>
    <button class="together-close" onclick="closeWatchTogetherMenu()">Cancel</button>
  </div>
</div>

<div id="joinRoomModal">
  <div class="room-box">
    <div class="room-title">Join Watch Room</div>
    <input class="room-input" id="joinCodeInput" placeholder="Enter room codeâ€¦" maxlength="6">
    <div class="room-actions">
      <button class="room-btn primary" onclick="joinRoom()">Join Room</button>
      <button class="room-btn ghost" onclick="closeJoinRoomDialog()">Cancel</button>
    </div>
  </div>
</div>

<div id="roomCreatedModal">
  <div class="room-box" style="text-align:center">
    <div style="font-size:2rem;margin-bottom:12px">ğŸ‰</div>
    <div class="room-title">Room Created!</div>
    <div class="room-code" id="roomCodeDisplay">ABC123</div>
    <div class="room-actions">
      <button class="room-btn ghost" onclick="copyRoomLink()">ğŸ“‹ Copy Link</button>
      <button class="room-btn ghost" onclick="shareRoom()">ğŸ“¤ Share</button>
    </div>
    <button class="room-btn primary" style="margin-top:10px;width:100%" onclick="startWatching()">Start Watching</button>
  </div>
</div>

<!-- â•â•â• KO-FI BUTTON â•â•â• -->
<button id="kofiBtn" onclick="openKofi()">
  â˜• Support Flixora
</button>

<!-- Ko-fi Modal -->
<div id="kofiModal">
  <div class="kofi-box">
    <div class="kofi-header">
      <div class="kofi-emoji">â˜•</div>
      <h3>Support Flixora</h3>
      <p>Help keep the streams going!</p>
    </div>
    <div class="kofi-body">
      <p>Flixora is free for everyone. If you enjoy watching here, consider buying me a coffee â€” it keeps the servers running and ads away! ğŸ™</p>
      <div class="kofi-amounts">
        <button class="kofi-amount" onclick="selectAmount(this,'â‚±50')">â‚±50</button>
        <button class="kofi-amount selected" onclick="selectAmount(this,'â‚±100')">â‚±100</button>
        <button class="kofi-amount" onclick="selectAmount(this,'â‚±200')">â‚±200</button>
        <button class="kofi-amount" onclick="selectAmount(this,'â‚±500')">â‚±500</button>
      </div>
      <button class="kofi-support-btn" onclick="goToKofi()">
        â˜• Support on Ko-fi
      </button>
      <button class="kofi-cancel" onclick="closeKofi()">Maybe later</button>
    </div>
  </div>
</div>

<!-- â•â•â• BOTTOM NAV â•â•â• -->
<nav id="bottomNav">
  <button class="bn-item active" id="bn-home" onclick="goHome();setNavItem('home')">
    <span class="bn-icon">ğŸ </span>Home
  </button>
  <button class="bn-item" id="bn-cat" onclick="loadCategory('movies');setNavItem('cat')">
    <span class="bn-icon">ğŸ¬</span>Movies
  </button>
  <button class="bn-item" id="bn-search" onclick="openMSearch();setNavItem('search')">
    <span class="bn-icon">ğŸ”</span>Search
  </button>
  <button class="bn-item" id="bn-together" onclick="showWatchTogetherMenu();setNavItem('together')">
    <span class="bn-icon">ğŸ‘¥</span>Together
  </button>
  <button class="bn-item" id="bn-support" onclick="openKofi()">
    <span class="bn-icon">â˜•</span>Support
  </button>
</nav>

<!-- â•â•â• SCRIPTS â•â•â• -->
<script src="app.js"></script>
<script src="adblock.js"></script>
<script src="episode-feature.js"></script>

<script>
/* â”€â”€ Ko-fi helpers â”€â”€ */
const KOFI_URL = 'https://ko-fi.com/amari2807'; // â† PALITAN MO ITO

function openKofi() {
  document.getElementById('kofiModal').classList.add('open');
}
function closeKofi() {
  document.getElementById('kofiModal').classList.remove('open');
}
function selectAmount(el, amt) {
  document.querySelectorAll('.kofi-amount').forEach(b => b.classList.remove('selected'));
  el.classList.add('selected');
}
function goToKofi() {
  window.open(KOFI_URL, '_blank');
  closeKofi();
}

/* â”€â”€ Watch Together room stubs â”€â”€ */
function createRoom() {
  const code = Math.random().toString(36).substring(2,8).toUpperCase();
  closeWatchTogetherMenu();
  document.getElementById('roomCodeDisplay').textContent = code;
  document.getElementById('roomCreatedModal').classList.add('open');
}
function joinRoom() {
  const code = document.getElementById('joinCodeInput').value.trim();
  if (!code) return;
  closeJoinRoomDialog();
  alert('Joining room: ' + code);
}
function copyRoomLink() {
  const code = document.getElementById('roomCodeDisplay').textContent;
  navigator.clipboard?.writeText(location.href + '?room=' + code)
    .then(() => alert('Link copied!'));
}
function shareRoom() {
  const code = document.getElementById('roomCodeDisplay').textContent;
  navigator.share?.({ title: 'Watch on Flixora', url: location.href + '?room=' + code });
}
function startWatching() {
  document.getElementById('roomCreatedModal').classList.remove('open');
}

/* â”€â”€ Override makeCard to use new design â”€â”€ */
const _origMakeCard = window.makeCard;
window.makeCard = function(item, overrideType, idx, locked) {
  const type  = overrideType || item.media_type || (item.title ? 'movie' : 'tv');
  const title = item.title || item.name || 'Unknown';
  const year  = (item.release_date || item.first_air_date || '').slice(0,4);
  const score = item.vote_average ? item.vote_average.toFixed(1) : 'â€”';
  const IMG   = 'https://image.tmdb.org/t/p/w500';
  const poster= item.poster_path
    ? IMG + item.poster_path
    : 'https://placehold.co/300x450/161616/555?text=' + encodeURIComponent(title);
  const fn = locked
    ? 'App.openMature()'
    : `playById(${item.id},'${type}','${String(title).replace(/'/g,"\\'")}','${year}')`;

  return `<div class="content-card" onclick="${fn}">
    <div class="card-poster">
      <img src="${poster}" alt="${title}" loading="lazy" onerror="this.src='https://placehold.co/300x450/161616/555?text=No+Image'">
      <div class="card-type-badge ${type==='movie'?'movie':''}">${type==='movie'?'FILM':'TV'}</div>
      <div class="card-score">â˜… ${score}</div>
      <div class="card-hover-overlay">
        <div class="card-play-btn">â–¶</div>
      </div>
      ${locked ? `<div class="card-locked-overlay"><div style="font-size:2rem">ğŸ”’</div><div style="font-size:.7rem;color:#ccc;text-align:center;font-weight:600">18+<br>Tap to unlock</div></div>` : ''}
    </div>
    <div class="card-info">
      <div class="card-title">${title}</div>
      <div class="card-meta">
        <span class="score">â˜… ${score}</span>
        ${year ? `<span>${year}</span>` : ''}
      </div>
    </div>
  </div>`;
};

/* â”€â”€ Override verifyStep visibility â”€â”€ */
const _origShowAge = window.showAgeStep;
window.showAgeStep = function() {
  document.getElementById('verifyStep1').style.display = '';
  document.getElementById('verifyStep2').style.display = 'none';
};
const _origShowPin = window.showPinStep;
window.showPinStep = function() {
  document.getElementById('verifyStep1').style.display = 'none';
  document.getElementById('verifyStep2').style.display = '';
  setTimeout(() => document.querySelectorAll('.pin-digit')[0]?.focus(), 80);
};
</script>

</body>
</html>
